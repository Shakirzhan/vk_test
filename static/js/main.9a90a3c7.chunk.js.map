{"version":3,"sources":["routes.js","store/currency_rates/reducer.js","store/currency_rates/actionTypes.js","store/vk/actionTypes.js","store/vk/reducer.js","registerServiceWorker.js","containers/Footer.js","containers/AboutPanel.js","containers/CurrencyRateDashboard.js","containers/CurrencyConverter.js","services/CBR.js","services/CurrencyConverter.js","containers/Logger.js","containers/MainPanel.js","store/currency_rates/actions.js","containers/App.js","store/vk/actions.js","index.js","create-router.js","store/reducers.js","logo.svg"],"names":["name","path","initialState","Immutable","currencyRates","undefined","reduce","state","action","type","merge","cbrDaily","daily","usdEurRate","getCbrDailyCurrencyRates","getUsdEurRate","getCbrCurrencyRateByCode","_","keyBy","Valute","currency","CharCode","vk","accessToken","notificationStatus","insets","logs","error","getAccessToken","getNotificationStatus","getInsets","getLogs","JSON","stringify","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","Footer","className","level","component","target","href","before","onClick","this","openAbout","bind","props","router","navigate","Component","connect","AboutPanel","osname","platform","id","left","navigationBack","IOS","title","multiline","CurrencyRateDashboard","renderRow","stringDate","date","Date","parse","day","getDate","month","getMonth","year","getFullYear","slice","toString","substr","rates","currentDate","getPrettyDate","previousDate","PreviousDate","cbrCurrencies","symbol","isMore","Value","Previous","color","arrow","style","currencyRatesSelectors","USD","RUB","EUR","CurrencyConverter","sourceCurrencyCode","targetCurrencyCode","amount","convertedAmount","changeSourceCurrencyCode","changeTargetCurrencyCode","changeAmount","getCurrencyRate","calculateAmount","e","newTargetCurrencyCode","newSourceCurrencyCode","value","setState","USD_EUR","val","sourceAmount","Math","round","pow","toFixed","replace","code","getCurrencySymbol","getPrettyAmount","placeholder","pattern","toLocaleString","alignment","onChange","disabled","cacheDate","fetch","response","json","n","Logger","vkSelectors","MainPanel","dispatch","getState","a","CBR","getDaily","textAlign","marginBottom","fontSize","lineHeight","App","VKConnect","vkEvent","detail","data","activePanel","route","activeView","nodeName","createRouter","routes","defaultRoute","usePlugin","loggerPlugin","browserPlugin","useHash","store","createStoreWithMiddleware","applyMiddleware","thunk","router5Middleware","createLogger","createStore","combineReducers","router5Reducer","configureStore","start","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.9a90a3c7.chunk.js","sourcesContent":["export default [\r\n    { name: 'currency', path: '/currency' },\r\n    { name: 'about', path: '/about' },\r\n]","import Immutable from 'seamless-immutable';\r\nimport _ from 'lodash';\r\nimport * as types from './actionTypes';\r\n\r\nconst initialState = Immutable({\r\n    currencyRates: undefined,\r\n});\r\n\r\nexport default function reduce(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case types.CBR_DAILY_FETCHED:\r\n            return state.merge({\r\n                cbrDaily: action.daily\r\n            });\r\n        case types.USD_EUR_RATE_FETCHED:\r\n            return state.merge({\r\n                usdEurRate: action.daily\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function getCbrDailyCurrencyRates(state) {\r\n    return state.currencyRates.cbrDaily;\r\n}\r\n\r\nexport function getUsdEurRate(state) {\r\n    return state.currencyRates.usdEurRate;\r\n}\r\n\r\nexport function getCbrCurrencyRateByCode(state) {\r\n    if (!state.currencyRates.cbrDaily) {\r\n        return [];\r\n    }\r\n    return _.keyBy(state.currencyRates.cbrDaily.Valute, (currency) => currency.CharCode);\r\n}\r\n","export const CBR_DAILY_FETCHED = 'currency_rates.CBR_DAILY_FETCHED';\r\nexport const USD_EUR_RATE_FETCHED = 'currency_rates.USD_EUR_RATE_FETCHED';\r\n","export const VK_GET_ACCESS_TOKEN_FETCHED = 'vk.accessTokenFetched';\r\nexport const VK_GET_ACCESS_TOKEN_FAILED = 'vk.accessTokenFailed';\r\nexport const VK_NOTIFICATION_STATUS_FETCHED = 'vk.notificationsStatusFetched';\r\nexport const VK_NOTIFICATION_STATUS_FAILED = 'vk.notificationsStatusFailed';\r\nexport const VK_INSETS_FETCHED = 'vk.insetsFetched';\r\n","import Immutable from 'seamless-immutable';\r\nimport * as types from './actionTypes';\r\n\r\nconst initialState = Immutable({\r\n    vk: undefined,\r\n});\r\n\r\nexport default function reduce(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case types.VK_GET_ACCESS_TOKEN_FETCHED:\r\n            return state.merge({\r\n                accessToken: action.accessToken\r\n            });\r\n        case types.VK_NOTIFICATION_STATUS_FETCHED:\r\n            return state.merge({\r\n                notificationStatus: action.notificationStatus\r\n            });\r\n        case types.VK_INSETS_FETCHED:\r\n            return state.merge({\r\n                insets: action.insets\r\n            });\r\n        case types.VK_GET_ACCESS_TOKEN_FAILED:\r\n            return state.merge({\r\n                logs: action.error\r\n            });\r\n        case types.VK_NOTIFICATION_STATUS_FAILED:\r\n            return state.merge({\r\n                logs: action.error\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function getAccessToken(state) {\r\n    return state.vk.accessToken;\r\n}\r\n\r\nexport function getNotificationStatus(state) {\r\n    return state.vk.notificationStatus;\r\n}\r\n\r\nexport function getInsets(state) {\r\n    return state.vk.insets;\r\n}\r\n\r\nexport function getLogs(state) {\r\n    return JSON.stringify(state.vk.logs);\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n            return;\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Lets check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl);\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        'This web app is being served cache-first by a service ' +\r\n                        'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n                    );\r\n                });\r\n            } else {\r\n                // Is not local host. Just register service worker\r\n                registerValidSW(swUrl);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the old content will have been purged and\r\n                            // the fresh content will have been added to the cache.\r\n                            // It's the perfect time to display a \"New content is\r\n                            // available; please refresh.\" message in your web app.\r\n                            console.log('New content is available; please refresh.');\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log('Content is cached for offline use.');\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n        })\r\n        .catch(error => {\r\n            console.error('Error during service worker registration:', error);\r\n        });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            if (\r\n                response.status === 404 ||\r\n                response.headers.get('content-type').indexOf('javascript') === -1\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                });\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log(\r\n                'No internet connection found. App is running in offline mode.'\r\n            );\r\n        });\r\n}\r\n\r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister();\r\n        });\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { Div, Button } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Footer.css'\r\nimport Icon24Message from '@vkontakte/icons/dist/24/message';\r\n\r\nclass Footer extends Component {\r\n    \r\n    render() {\r\n        return (\r\n            <Div className=\"footer\">\r\n                <Button level=\"3\" component=\"a\" target=\"_blank\"\r\n                           href=\"https://vk.me/currency_app\" before={<Icon24Message/>}/>\r\n                <Button level=\"3\" component=\"a\" target=\"_blank\"\r\n                           href=\"https://vk.com/currency_app\">Группа</Button>\r\n                <Button level=\"3\" component=\"a\" onClick={this.openAbout.bind(this)}>О\r\n                    программе</Button>\r\n            </Div>\r\n        );\r\n    }\r\n\r\n    openAbout() {\r\n        this.props.router.navigate('about');\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Footer);\r\n","import React, {Component} from 'react';\r\nimport { Panel, PanelHeader, HeaderButton, Group, Div, List, Cell, Link, platform, IOS } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {connect} from 'react-redux';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Footer from './Footer';\r\n\r\nclass AboutPanel extends Component {\r\n\r\n    render() {\r\n        const osname = platform();\r\n\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader\r\n                    left={<HeaderButton onClick={this.navigationBack.bind(this)}>{osname === IOS ?\r\n                        <Icon28ChevronBack/> : <Icon24Back/>}</HeaderButton>}\r\n                >\r\n                    О программе\r\n                </PanelHeader>\r\n                <Group title=\"Исходный код\">\r\n                    <Div>\r\n                        Исходный код доступен на <Link href=\"https://github.com/tsivarev/currency\">GitHub</Link>.\r\n                        <br/>\r\n                        <br/>\r\n                        Документация <Link href=\"https://vk.com/dev/vk_apps_docs\">VK Apps платформы</Link>.\r\n                    </Div>\r\n                </Group>\r\n                <Group title=\"Используемые ресурсы\">\r\n                    <List>\r\n                        <Cell multiline>\r\n                            Иконки – <Link href=\"https://www.flaticon.com/authors/smashicons\">Smashicons</Link>.\r\n                            Лицензия <Link\r\n                            href=\"http://creativecommons.org/licenses/by/3.0/\">CC\r\n                            3.0 BY</Link>.\r\n                        </Cell>\r\n                        <Cell multiline>\r\n                            Курсы ЦБ РФ – <Link href=\"https://www.cbr-xml-daily.ru/\">API</Link>.\r\n                        </Cell>\r\n                        <Cell multiline>\r\n                            Курс USD/EUR – <Link href=\"https://free.currencyconverterapi.com/\">API</Link>.\r\n                        </Cell>\r\n                    </List>\r\n                </Group>\r\n                <Footer router={this.props.router}/>\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n    navigationBack() {\r\n        this.props.router.navigate('currency')\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {};\r\n}\r\n\r\nexport default connect(mapStateToProps)(AboutPanel);\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { List, Cell, Div } from '@vkontakte/vkui';\r\nimport './CurrencyRateDashboard.css';\r\nimport * as currencyRatesSelectors from '../store/currency_rates/reducer';\r\n\r\nclass CurrencyRateDashboard extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.renderRow = this.renderRow.bind(this);\r\n    }\r\n\r\n    getPrettyDate(stringDate) {\r\n        let date = new Date(Date.parse(stringDate));\r\n        let day = date.getDate();\r\n        let month = date.getMonth();\r\n        let year = date.getFullYear();\r\n\r\n        return ('0' + day).slice(-2) + '.' + ('0' + (month + 1)).slice(-2) + '.' + year.toString().substr(-2);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.rates) {\r\n            return (<Div/>);\r\n        }\r\n\r\n        let currentDate = this.getPrettyDate(this.props.rates.Date);\r\n        let previousDate = this.getPrettyDate(this.props.rates.PreviousDate);\r\n\r\n        return (\r\n            <List>\r\n                <Cell before={<div className=\"currency_rate_dashboard__item_before\"/>}>\r\n                    <div className=\"currency_rate_dashboard__item\">\r\n                        <div\r\n                            className=\"currency_rate_dashboard__item__column currency_rate_dashboard__header\">{currentDate}</div>\r\n                        <div\r\n                            className=\"currency_rate_dashboard__item__column currency_rate_dashboard__header\">{previousDate}</div>\r\n                    </div>\r\n                </Cell>\r\n\r\n                {this.renderRow('$', this.props.cbrCurrencies['USD'])}\r\n                {this.renderRow('€', this.props.cbrCurrencies['EUR'])}\r\n            </List>\r\n        );\r\n    }\r\n\r\n    renderRow(symbol, currency) {\r\n        \r\n        let isMore = currency.Value > currency.Previous;\r\n        let color = isMore ? '#1BEA60' : '#FF0000';\r\n        let arrow = isMore ? '↑' : '↓';\r\n\r\n        return (\r\n            <Cell before={<div className=\"currency_rate_dashboard__item_before\">{symbol}</div>}>\r\n                <div className=\"currency_rate_dashboard__item\">\r\n                    <div className=\"currency_rate_dashboard__item__column\" style={{color: color}}>\r\n                        {currency.Value} ₽ {arrow}\r\n                    </div>\r\n                    <div className=\"currency_rate_dashboard__item__column\">\r\n                        {currency.Previous} ₽\r\n                    </div>\r\n                </div>\r\n            </Cell>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        rates: currencyRatesSelectors.getCbrDailyCurrencyRates(state),\r\n        cbrCurrencies: currencyRatesSelectors.getCbrCurrencyRateByCode(state),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(CurrencyRateDashboard);\r\n","import React, {Component} from 'react';\r\nimport { Div, Input, Select } from '@vkontakte/vkui';\r\nimport './CurrencyConverter.css';\r\nimport {connect} from 'react-redux';\r\nimport * as currencyRatesSelectors from '../store/currency_rates/reducer';\r\n\r\nconst USD = 'USD';\r\nconst RUB = 'RUB';\r\nconst EUR = 'EUR';\r\n\r\nclass CurrencyConverter extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            sourceCurrencyCode: USD,\r\n            targetCurrencyCode: RUB,\r\n            amount: 0,\r\n            convertedAmount: '0',\r\n        };\r\n\r\n        this.changeSourceCurrencyCode = this.changeSourceCurrencyCode.bind(this);\r\n        this.changeTargetCurrencyCode = this.changeTargetCurrencyCode.bind(this);\r\n        this.changeAmount = this.changeAmount.bind(this);\r\n\r\n        this.getCurrencyRate = this.getCurrencyRate.bind(this);\r\n        this.calculateAmount = this.calculateAmount.bind(this);\r\n    }\r\n\r\n    changeSourceCurrencyCode(e) {\r\n        let newTargetCurrencyCode = this.state.targetCurrencyCode;\r\n        let newSourceCurrencyCode = e.target.value;\r\n\r\n        if (this.state.targetCurrencyCode === e.target.value) {\r\n            newTargetCurrencyCode = this.state.sourceCurrencyCode;\r\n        }\r\n\r\n        this.setState({\r\n            sourceCurrencyCode: newSourceCurrencyCode,\r\n            targetCurrencyCode: newTargetCurrencyCode,\r\n            convertedAmount: this.calculateAmount(this.state.amount, newSourceCurrencyCode, newTargetCurrencyCode)\r\n        });\r\n    }\r\n\r\n    changeTargetCurrencyCode(e) {\r\n        let newTargetCurrencyCode = e.target.value;\r\n        let newSourceCurrencyCode = this.state.sourceCurrencyCode;\r\n\r\n        if (this.state.sourceCurrencyCode === e.target.value) {\r\n            newSourceCurrencyCode = this.state.targetCurrencyCode;\r\n        }\r\n\r\n        this.setState({\r\n            sourceCurrencyCode: newSourceCurrencyCode,\r\n            targetCurrencyCode: newTargetCurrencyCode,\r\n            convertedAmount: this.calculateAmount(this.state.amount, newSourceCurrencyCode, newTargetCurrencyCode)\r\n        });\r\n    }\r\n\r\n    getCurrencyRate(sourceCurrencyCode, targetCurrencyCode) {\r\n        if (!this.props.cbrCurrencies) {\r\n            //not loaded yet\r\n            return 1;\r\n        }\r\n\r\n        if (sourceCurrencyCode === RUB) {\r\n            if (this.props.cbrCurrencies[targetCurrencyCode]) {\r\n                return 1 / this.props.cbrCurrencies[targetCurrencyCode].Value;\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n\r\n        if (targetCurrencyCode === RUB) {\r\n            if (this.props.cbrCurrencies[sourceCurrencyCode]) {\r\n                return this.props.cbrCurrencies[sourceCurrencyCode].Value;\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n\r\n        if (targetCurrencyCode === USD) {\r\n            return 1 / this.props.usdEurRate.USD_EUR.val;\r\n        }\r\n\r\n        if (targetCurrencyCode === EUR) {\r\n            return this.props.usdEurRate.USD_EUR.val;\r\n        }\r\n\r\n        return 1;\r\n    }\r\n\r\n    calculateAmount(sourceAmount, sourceCurrencyCode, targetCurrencyCode) {\r\n        return this.getCurrencyRate(sourceCurrencyCode, targetCurrencyCode) * sourceAmount;\r\n    }\r\n\r\n    getPrettyAmount(amount) {\r\n        return (Math.round(amount * Math.pow(10, 2)) / Math.pow(10, 2)).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n    }\r\n\r\n    changeAmount(e) {\r\n        this.setState({\r\n            amount: e.target.value,\r\n            convertedAmount: this.calculateAmount(e.target.value, this.state.sourceCurrencyCode, this.state.targetCurrencyCode)\r\n        });\r\n    }\r\n\r\n    getCurrencySymbol(code) {\r\n        switch (code) {\r\n            case USD:\r\n                return '$';\r\n            case EUR:\r\n                return '€';\r\n            case RUB:\r\n                return '₽';\r\n\r\n            default:\r\n                return '';\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Div className=\"currency_converter\">\r\n                <div style={{color: '#71757A'}}>\r\n                    Курс\r\n                    1 {this.getCurrencySymbol(this.state.sourceCurrencyCode)} = {this.getPrettyAmount(this.getCurrencyRate(this.state.sourceCurrencyCode, this.state.targetCurrencyCode))} {this.getCurrencySymbol(this.state.targetCurrencyCode)}\r\n                </div>\r\n                <div className=\"currency_converter__amount_input\">\r\n                    <div className=\"currency_converter__amount_input__input\">\r\n                        <Input type=\"number\" placeholder=\"0\" pattern=\"\\d*\"\r\n                                  value={this.state.amount ? this.state.amount.toLocaleString() : ''} alignment=\"right\"\r\n                                  onChange={this.changeAmount}/>\r\n                    </div>\r\n                    <div className=\"currency_converter__amount_input__selector\">\r\n                        <Select value={this.state.sourceCurrencyCode} onChange={this.changeSourceCurrencyCode}>\r\n                            <option value={USD}>{this.getCurrencySymbol(USD)}</option>\r\n                            <option value={EUR}>{this.getCurrencySymbol(EUR)}</option>\r\n                            <option value={RUB}>{this.getCurrencySymbol(RUB)}</option>\r\n                        </Select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"currency_converter__amount_input\">\r\n                    <div className=\"currency_converter__amount_input__input\">\r\n                        <Input type=\"text\" alignment=\"right\" disabled\r\n                                  value={this.getPrettyAmount(this.state.convertedAmount)}/>\r\n                    </div>\r\n                    <div className=\"currency_converter__amount_input__selector\">\r\n                        <Select value={this.state.targetCurrencyCode} onChange={this.changeTargetCurrencyCode}>\r\n                            <option value={USD}>{this.getCurrencySymbol(USD)}</option>\r\n                            <option value={EUR}>{this.getCurrencySymbol(EUR)}</option>\r\n                            <option value={RUB}>{this.getCurrencySymbol(RUB)}</option>\r\n                        </Select>\r\n                    </div>\r\n                </div>\r\n            </Div>);\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        cbrCurrencies: currencyRatesSelectors.getCbrCurrencyRateByCode(state),\r\n        usdEurRate: currencyRatesSelectors.getUsdEurRate(state)\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(CurrencyConverter);\r\n","class CBR {\r\n    static pad(n) {\r\n        return n < 10 ? '0' + n : n\r\n    }\r\n\r\n    async getDaily(date) {\r\n        let cacheDate = date.getDate() + \"_\" + (date.getMonth() + 1) + \"_\" + date.getFullYear();\r\n        return fetch('https://www.cbr-xml-daily.ru/daily_json.js?' + cacheDate).then(function (response) {\r\n            return response.json();\r\n        })\r\n    }\r\n}\r\n\r\nexport default new CBR();\r\n","class CurrencyConverter {\r\n    async getUsdEurRate() {\r\n        return fetch('https://free.currencyconverterapi.com/api/v5/convert?q=USD_EUR&compact=y&apiKey=88bb8bbba9a29716dfd5')\r\n            .then(function (response) {\r\n                return response.json();\r\n            })\r\n    }\r\n}\r\n\r\nexport default new CurrencyConverter();\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport * as vkSelectors from '../store/vk/reducer';\r\n\r\nclass Logger extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Div>\r\n                {this.props.logs}\r\n            </Div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        logs: vkSelectors.getLogs(state),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Logger);\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { Panel, PanelHeader, Div, Group, Button } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport logo from '../logo.svg';\r\nimport CurrencyRateDashboard from './CurrencyRateDashboard';\r\nimport CurrencyConverter from './CurrencyConverter';\r\nimport * as vkSelectors from '../store/vk/reducer';\r\nimport * as currencyRatesActions from '../store/currency_rates/actions';\r\nimport Footer from './Footer';\r\nimport Logger from './Logger';\r\n\r\nclass MainPanel extends Component {\r\n\r\n    componentWillMount() {\r\n        this.props.dispatch(currencyRatesActions.fetchUsdEurRate());\r\n        this.props.dispatch(currencyRatesActions.fetchCbrCurrencyRates());\r\n    }\r\n\r\n    render() {\r\n        const isProduction = process.env.NODE_ENV === 'production';\r\n        let logger = null;\r\n        if (!isProduction) {\r\n            logger = <Logger/>;\r\n        }\r\n\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader>\r\n                    Лого - Лапы и хвосты\r\n                </PanelHeader>\r\n                <Div style={{textAlign: 'center'}}>\r\n                    <h1>Здравствуйте, Ник!</h1>\r\n                    <div style={{ \r\n                        marginBottom: 16,\r\n                        fontSize: '15px',\r\n                        lineHeight: '20px' \r\n                        }}>С приложением 'Лапы и хвосты' следить за здоровьем Вашего питомца легко и просто</div>\r\n                    <Button>Продолжить</Button>\r\n                </Div>\r\n            </Panel>\r\n        );\r\n\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader>\r\n                    Курсы валют\r\n                </PanelHeader>\r\n                <Div style={{textAlign: 'center', marginTop: 10}}>\r\n                    <img width={96} height={96} src={logo} alt=\"logo\"/>\r\n                </Div>\r\n                <Group title=\"Курс ЦБ РФ\">\r\n                    <CurrencyRateDashboard/>\r\n                </Group>\r\n                <Group title=\"Калькулятор\">\r\n                    <CurrencyConverter/>\r\n                </Group>\r\n                <Footer router={this.props.router}/>\r\n                {logger}\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        notificationStatus: vkSelectors.getNotificationStatus(state),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(MainPanel);\r\n","import * as types from './actionTypes';\r\nimport CBR from '../../services/CBR';\r\nimport CurrencyConverter from '../../services/CurrencyConverter';\r\n\r\nexport function fetchCbrCurrencyRates() {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            let date = new Date();\r\n            const daily = await CBR.getDaily(date);\r\n            dispatch({type: types.CBR_DAILY_FETCHED, daily: daily});\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchUsdEurRate() {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const daily = await CurrencyConverter.getUsdEurRate();\r\n            dispatch({type: types.USD_EUR_RATE_FETCHED, daily: daily});\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { ConfigProvider, Root, View, Panel, PanelHeader, Div, Group } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n// import {isWebView} from '@vkontakte/vkui/src/lib/webview';\r\nimport * as vkSelectors from '../store/vk/reducer';\r\nimport * as vkActions from '../store/vk/actions';\r\nimport AboutPanel from './AboutPanel';\r\nimport MainPanel from './MainPanel';\r\nimport { RouteNode } from 'react-router5'\r\n\r\nclass App extends Component {\r\n\r\n    componentWillMount() {\r\n        this.props.dispatch(vkActions.initApp());\r\n    }\r\n\r\n    render() {\r\n        let activePanel = this.props.route.name === 'about' ? 'aboutPanel' : 'mainPanel';\r\n\r\n        return (\r\n            <ConfigProvider insets={this.props.insets}>\r\n                <Root activeView=\"mainView\">\r\n                    <View id=\"mainView\" activePanel={activePanel}>\r\n                        <MainPanel router={this.props.router} id=\"mainPanel\" accessToken={this.props.accessToken}/>\r\n                        <AboutPanel router={this.props.router} id=\"aboutPanel\"/>\r\n                    </View>\r\n                </Root>\r\n            </ConfigProvider>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        accessToken: vkSelectors.getAccessToken(state),\r\n        insets: vkSelectors.getInsets(state),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(\r\n    (props) => (\r\n        <RouteNode nodeName=\"\">\r\n            {({ route }) => <App route={route} {...props}/>}\r\n        </RouteNode>\r\n    )\r\n);\r\n","import * as VKConnect from '@vkontakte/vkui-connect';\r\nimport * as types from './actionTypes';\r\n\r\nexport function initApp() {\r\n    return async (dispatch) => {\r\n        VKConnect.subscribe(e => {\r\n            let vkEvent = e.detail;\r\n            if (!vkEvent) {\r\n                console.error('invalid event', e);\r\n                return;\r\n            }\r\n\r\n            let type = vkEvent['type'];\r\n            let data = vkEvent['data'];\r\n\r\n            switch (type) {\r\n                case 'VKWebAppUpdateInsets':\r\n                    dispatch({\r\n                        type: types.VK_INSETS_FETCHED,\r\n                        insets: data.insets\r\n                    });\r\n                    break;\r\n\r\n                default:\r\n                //nop;\r\n            }\r\n        });\r\n\r\n        VKConnect.send('VKWebAppInit', {'no_toolbar': true});\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport { RouterProvider } from 'react-router5'\r\nimport createRouter from './create-router'\r\nimport configureStore  from './store/reducers';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport App from './containers/App';\r\n\r\nconst router = createRouter()\r\nconst store = configureStore(router)\r\n\r\nrouter.start(() => {\r\n    ReactDOM.render((\r\n        <Provider store={store}>\r\n            <RouterProvider router={router}>\r\n                <App router={router}/>\r\n            </RouterProvider>\r\n        </Provider>\r\n    ), document.getElementById('root'))\r\n})\r\n\r\nregisterServiceWorker();","import createRouter from 'router5'\r\nimport loggerPlugin from 'router5-plugin-logger'\r\nimport browserPlugin from 'router5-plugin-browser'\r\nimport routes from './routes'\r\n\r\nexport default function configureRouter() {\r\n    const router = createRouter(routes, {\r\n        defaultRoute: 'currency'\r\n    })\r\n\r\n    router.usePlugin(loggerPlugin)\r\n    router.usePlugin(\r\n            browserPlugin({\r\n                useHash: true\r\n            })\r\n        )\r\n\r\n    return router\r\n}","import currencyRates from './currency_rates/reducer';\r\nimport vk from './vk/reducer';\r\nimport { createStore, applyMiddleware, combineReducers } from 'redux'\r\nimport { router5Middleware, router5Reducer } from 'redux-router5'\r\nimport { createLogger } from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\n\r\nexport default function configureStore(router, initialState = {}) {\r\n    const createStoreWithMiddleware = applyMiddleware(\r\n        thunk,\r\n        router5Middleware(router),\r\n        createLogger()\r\n    )(createStore)\r\n\r\n    const store = createStoreWithMiddleware(\r\n        combineReducers({\r\n            router: router5Reducer,\r\n            currencyRates,\r\n            vk\r\n        }),\r\n        initialState\r\n    )\r\n\r\n    window.store = store\r\n    return store\r\n}","module.exports = __webpack_public_path__ + \"static/media/logo.592f30a9.svg\";"],"sourceRoot":""}